(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,n){e.exports=n(44)},26:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(17),l=n.n(r),u=(n(26),n(7)),o=n(5),i={color:"rgb(187, 46, 31)"};function s(){return c.a.createElement("nav",{className:"row space-between"},c.a.createElement("ul",{className:"row nav"},c.a.createElement("li",null,c.a.createElement(o.c,{to:"/",exact:!0,activeStyle:i,className:"nav-link"},"Top")),c.a.createElement("li",null,c.a.createElement(o.c,{to:"/new",activeStyle:i,className:"nav-link"},"New"))))}var m=n(14),f=n.n(m),E=n(20),p=n(1),d="https://hacker-news.firebaseio.com/v0",h=".json?print=pretty";function b(e){return e.filter(Boolean).filter(function(e){return!0!==e.dead})}function j(e){return e.filter(function(e){return!0!==e.deleted})}function v(e){return e.filter(function(e){return"story"===e.type})}function O(e){return fetch("".concat(d,"/item/").concat(e).concat(h)).then(function(e){return e.json()})}function g(e){return fetch("".concat(d,"/").concat(e,"stories").concat(h)).then(function(e){return e.json()}).then(function(t){if(!t)throw new Error("There was an error fetching the ".concat(e," posts."));return t.slice(0,50)}).then(function(e){return Promise.all(e.map(O))}).then(function(e){return j(v(b(e)))})}function w(e){return new Date(1e3*e).toLocaleDateString("en-US",{hour:"numeric",minute:"numeric"})}function y(e){var t=e.by,n=e.time,a=e.id,r=e.descendants;return c.a.createElement("div",{className:"meta-info-light"},c.a.createElement("span",null,"by ",c.a.createElement(o.b,{to:"/user?id=".concat(t)},t)),c.a.createElement("span",null,"on ",w(n)),"number"===typeof r&&c.a.createElement("span",null,"with ",c.a.createElement(o.b,{to:"/post?id=".concat(a)},r)," comments"))}var S=function(e){var t=e.url,n=e.title,a=e.id;return t?c.a.createElement("a",{className:"link",href:t},n):c.a.createElement(o.b,{className:"link",to:"/post?id=".concat(a)},n)},x=function(e){var t=e.posts;return 0===t.length?c.a.createElement("p",{className:"center-text"},"This user hasn't posted yet"):c.a.createElement("ul",null,t.map(function(e){return c.a.createElement("li",{key:e.id,className:"post"},c.a.createElement(S,{url:e.url,title:e.title,id:e.id}),c.a.createElement(y,{by:e.by,time:e.time,id:e.id,descendants:e.descendants}))}))},N=function(e){var t=e.type,n=Object(a.useState)(null),r=Object(p.a)(n,2),l=r[0],u=r[1],o=Object(a.useState)(null),i=Object(p.a)(o,2),s=i[0],m=i[1],d=Object(a.useState)(!0),h=Object(p.a)(d,2),b=h[0],j=h[1];return Object(a.useEffect)(function(){!function(){var e=Object(E.a)(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:u(null),m(null),j(!0),g(t).then(function(e){u(e),j(!1),m(null)}).catch(function(e){var t=e.message;m(t),j(!1)});case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[t]),!0===b?c.a.createElement("h1",null,"Loading"):s?c.a.createElement("p",{className:"center-text error"},s):c.a.createElement(x,{posts:l})},k=n(10),F=n.n(k),P={content:{fontSize:"35px",position:"absolute",left:"0",right:"0",marginTop:"20px",textAlign:"center"}},L=function(e){var t=e.text,n=e.speed,r=Object(a.useState)(t),l=Object(p.a)(r,2),u=l[0],o=l[1];return Object(a.useEffect)(function(){var e=window.setInterval(function(){o(u===t+"..."?t:u+".")},n);return window.clearInterval(e)}),c.a.createElement("p",{style:P.content},u)};L.defaultProps={text:"Loading",speed:300};var T=L,I=function(e){var t=e.comment;return c.a.createElement("div",{className:"comment"},c.a.createElement(y,{comment:!0,by:t.by,time:t.time,id:t.id}),c.a.createElement("p",null,t.text))},B=function(e){var t=Object(a.useState)(null),n=Object(p.a)(t,2),r=n[0],l=n[1],u=Object(a.useState)(!0),o=Object(p.a)(u,2),i=o[0],s=o[1],m=Object(a.useState)(null),f=Object(p.a)(m,2),E=f[0],d=f[1],h=Object(a.useState)(!0),v=Object(p.a)(h,2),g=v[0],w=v[1],x=Object(a.useState)(null),N=Object(p.a)(x,2),k=N[0],P=N[1];return Object(a.useEffect)(function(){O(F.a.parse(e.location.search).id).then(function(e){return l(e),s(!1),t=e.kids||[],Promise.all(t.map(O)).then(function(e){return j(b(e).filter(function(e){return"comment"===e.type}))});var t}).then(function(e){d(e),w(!1)}).catch(function(e){var t=e.message;P(t),s(!1),w(!1)})}),k?c.a.createElement("p",{className:"center-text error"},k):c.a.createElement(a.Fragment,null,!0===i?c.a.createElement(T,{text:"Fetching post"}):c.a.createElement(a.Fragment,null,c.a.createElement("h1",{className:"header"},c.a.createElement(S,{url:r.url,title:r.title,id:r.id})),c.a.createElement(y,{by:r.by,time:r.time,id:r.id,descendants:r.descendants}),c.a.createElement("p",null,r.text)),!0===g?!1===i&&c.a.createElement(T,{text:"Fetching comments"}):c.a.createElement(a.Fragment,null,E.map(function(e){return c.a.createElement(I,{key:e.id,comment:e})})))},D=function(e){var t=Object(a.useState)(null),n=Object(p.a)(t,2),r=n[0],l=n[1],u=Object(a.useState)(!0),o=Object(p.a)(u,2),i=o[0],s=o[1],m=Object(a.useState)(null),f=Object(p.a)(m,2),E=f[0],g=f[1],y=Object(a.useState)(!0),S=Object(p.a)(y,2),N=S[0],k=S[1],P=Object(a.useState)(null),L=Object(p.a)(P,2),I=L[0],B=L[1];return Object(a.useEffect)(function(){(function(e){return fetch("".concat(d,"/user/").concat(e).concat(h)).then(function(e){return e.json()})})(F.a.parse(e.location.search).id).then(function(e){return l(e),s(!1),t=e.submitted.slice(0,30),Promise.all(t.map(O)).then(function(e){return j(v(b(e)))});var t}).then(function(e){g(e),k(!1),B(null)}).catch(function(e){var t=e.message;B(t),s(!1),k(!1)})}),I?c.a.createElement("p",{className:"center-text error"},I):c.a.createElement(a.Fragment,null,!0===i?c.a.createElement(T,{text:"Fetching User"}):c.a.createElement(a.Fragment,null,c.a.createElement("h1",{className:"header"},r.id),c.a.createElement("div",{className:"meta-info-light"},c.a.createElement("span",null,"joined ",c.a.createElement("b",null,w(r.created))),c.a.createElement("span",null,"has ",c.a.createElement("b",null,r.karma.toLocaleString())," karma")),c.a.createElement("p",null,r.about)),!0===N?!1===i&&c.a.createElement(T,{text:"Fetching posts"}):c.a.createElement(a.Fragment,null,c.a.createElement("h2",null,"Posts"),c.a.createElement(x,{posts:E})))},J=function(){return c.a.createElement("div",{className:"light"},c.a.createElement("div",{className:"container"},c.a.createElement(s,null),c.a.createElement(u.c,null,c.a.createElement(u.a,{exact:!0,path:"/",render:function(){return c.a.createElement(N,{type:"top"})}}),c.a.createElement(u.a,{path:"/new",render:function(){return c.a.createElement(N,{type:"new"})}}),c.a.createElement(u.a,{path:"/post",component:B}),c.a.createElement(u.a,{path:"/user",component:D}),c.a.createElement(u.a,{render:function(){return c.a.createElement("h1",null,"404")}}))))};l.a.render(c.a.createElement(o.a,null,c.a.createElement(J,null)),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.3b3b9aef.chunk.js.map